.. Copyright (c) 2015, CodiLime, Inc.

Decompose Timestamp
===================

==========
Descriptor
==========

Operation to extract timestamp parts to a separate columns.

**Operation version:** 1

**Since:** DeepSense 0.1.0

-----
Input
-----

.. list-table::
   :widths: 15 20 65
   :header-rows: 1

   * - Port
     - Data Type
     - Description
   * - 0
     - DataFrame
     - DataFrame with timestamp column to decompose.


------
Output
------

.. list-table::
   :widths: 15 20 65
   :header-rows: 1

   * - Port
     - Data Type
     - Description
   * - 0
     - DataFrame
     - DataFrame containing new columns with parts of timestamp extracted from
       the original timestamp.


===========
Description
===========
Operation extracts parts of timestamp from a specified timestamp column to newly
created columns. New columns will have numeric type and name matching format:
``${original_timestamp_column_name}_${timestamp_part}``.
For example for timestamp column: ``'Birthdate'`` when extracting year part new
column will be created with name: ``'Birthdate_year'``.
If column with the name generated by the operation
already exists in the DataFrame newly created column will have name:
``'Birthdate_year_N'`` :math:`N=1â€¦`, where N is a first integer that will create unique
name for the column in the DataFrame.


-----
Input
-----
1. DataFrame with timestamp column to decompose.

------
Output
------

1. DataFrame with newly created columns containing parts of timestamp.

------
Params
------
1. ``timestampColumn: SingleColumnSelector`` - one of the DataFrame columns.
   If column selected by user has type different then Timestamp, ``WrongColumnTypeException``
   will be thrown.
   If selected column does not exist, ``ColumnDoesNotExistException`` will be thrown.
2. ``parts: MultipleChoice`` - parts of timestamp to extract
   to separate columns.
   Possible values are: ``[year, month, day, hour, minutes, seconds]``.
3. ``inPlace: Boolean`` - true if newly generated columns should replace original
   timestamp column.


=======
Example
=======

----------
Input Data
----------

============= ===================
Name          Birthdate
============= ===================
Jim Morrison  1943-12-08 13:47:16
Jimmi Page    1944-01-09 08:35:10
============= ===================

----------------
Operation Params
----------------
1. column = Name
2. timestamp parts = [year, month, day]
3. inplace = false

-----------
Output Data
-----------

============= =================== ============== =============== =============
Name          Birthdate           Birthdate_year Birthdate_month Birthdate_day
============= =================== ============== =============== =============
Jim Morrison  1943-12-08 13:47:16 1943           12              8
Jimmi Page    1944-01-09 08:35:10 1944           1               9
============= =================== ============== =============== =============
