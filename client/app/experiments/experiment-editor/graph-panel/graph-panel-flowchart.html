<div drop-target context-menu-blocker class="flowchart-box">
  <div>
    <context-menu ng-controller="ReportOptionsController as reportOptionsController"
                  elements="reportOptionsController.getReportOptions()"
                  container-x="::flowChartBoxController.getPositionX()"
                  container-y="::flowChartBoxController.getPositionY()"
                  position-x="flowChartBoxController.getContextMenuPositionX()"
                  position-y="flowChartBoxController.getContextMenuPositionY()"
                  state="flowChartBoxController.getContextMenuState()">
    </context-menu>
  </div>

  <div ng-controller="PortStatusesTooltipController as portStatusesTooltipController">
    <sticky-window
      ng-if="portStatusesTooltipController.tooltipIsVisible"
      x="::portStatusesTooltipController.getPositionX()"
      y="::portStatusesTooltipController.getPositionY()"
    >
      <span ng-repeat="type in ::portStatusesTooltipController.getTypes()">
        <span>{{ ::type }}</span><span ng-if="::!$last">,</span>
      </span>
    </sticky-window>
  </div>

  <graph-node on-render-finish
              jsplumb-draggable
              keyboard
              node="node"
              ng-class="{'selected-node': experiment.getSelectedNode().id === nodeId }"
              ng-repeat="(nodeId, node) in experiment.getExperiment().getNodes()">
  </graph-node>
</div>
