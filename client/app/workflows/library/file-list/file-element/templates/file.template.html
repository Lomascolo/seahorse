<div class="file-element"
     ng-class="{
       'last-elem': $ctrl.isLast,
       'upload-error': $ctrl.item.status === 'error'
     }">

  <div class="icon-wrapper">
    <div class="icon sa sa-file"></div>
    <div class="extension"
         ng-class="{[$ctrl.extension]: $ctrl.canShowExtension}"
         ng-if="$ctrl.canShowExtension"
      >
      {{$ctrl.extension}}
    </div>
  </div>

  <div class="name-section"
       ng-click="$ctrl.onSelect($ctrl.item)"
  >
    <div class="name" title={{$ctrl.item.name}}>
      {{$ctrl.item.name}}
    </div>
    <span class="upload-info" ng-if="$ctrl.item.progress && $ctrl.item.status !== 'error'">
      <span ng-repeat="parent in $ctrl.parents">
        <span class="parent" ng-click="$ctrl.goToUri(parent.uri)">{{parent.name}}</span>
        <span ng-if="!$last">/</span>
      </span>
    </span>
    <span class="upload-info" ng-if="$ctrl.item.progress && $ctrl.item.status === 'error'">
      (upload failed)
    </span>
  </div>

  <div class="actions"
       ng-class="{'disabled': $ctrl.item.progress > 0 && $ctrl.item.progress < 100}"
  >
    <span class="sa sa-directory" title="Open directory"
          ng-click="$ctrl.goToUri($ctrl.item.parent.uri)"
          ng-if="$ctrl.item.progress"
    >
    </span>
    <a ng-href={{$ctrl.item.downloadUrl}} download>
      <span class="sa sa-download"></span>
    </a>
    <span class="sa sa-delete" ng-click="$ctrl.deleteFile($ctrl.item)"></span>
  </div>

  <div
    class="file-element-progress-upload"
    ng-if="$ctrl.item.progress > 0 && $ctrl.item.progress < 100"
    ng-style="{'width': $ctrl.item.progress + '%'}"
  >
  </div>
</div>
