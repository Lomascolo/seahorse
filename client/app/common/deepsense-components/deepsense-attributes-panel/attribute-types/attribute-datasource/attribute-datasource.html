<div class="attribute-datasource">
  <div
    ng-if="isDataSourceEmpty()"
    ng-class="{'disable-mask': disabledMode}"
    class="datasource-wrapper error-wrapper"
  >
    <div>
      <span
        ng-if="error"
        class="datasource-wrapper__error-info"
      >
        {{error}}
      </span>
    </div>
    <div class="datasource-wrapper__select">
      <span class="error-icon fa fa-exclamation-circle"></span>
      <span
        ng-click="openDataSourcePanel()"
        class="select-label"
      >
        Select data source
      </span>
    </div>
  </div>
  <div
    ng-if="!isDataSourceEmpty()"
    class="datasource-wrapper"
  >
    <div
      ng-class="{'disable-mask': disabledMode}"
      ng-class="typeIcon[datasource.params.datasourceType]"
      class="datasource-wrapper__icon sa"
    ></div>
    <div
      ng-class="{'disable-mask': disabledMode}"
      ng-click="openDataSourcePanel()"
      class="datasource-wrapper__name"
      title={{datasource.params.name}}
    >
      {{datasource.params.name}}
    </div>
    <div
      ng-class="{'disable-mask': disabledMode}"
      ng-click="clearDatasource()"
      class="datasource-wrapper__icon sa sa-cross"
      title="Clear datasource"
    ></div>
    <div
      ng-if="isOwner()"
      ng-click="openDatasource('edit')"
      class="datasource-wrapper__icon sa sa-edit"
      title="Edit datasource"
    ></div>
    <div
      ng-if="!isOwner()"
      ng-click="openDatasource('read')"
      class="datasource-wrapper__icon sa sa-view"
      title="View datasource"
    ></div>
  </div>
</div>
