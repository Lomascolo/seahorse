Docker with Hadoop installed.

Environment variables:
- ENV_PREFIX - environment prefix (assumes node names in the format of
    {ENV_PREFIX}master, {ENV_PREFIX}slave1 etc.)
- IS_MASTER - whether to configure a master node (default: 1)
- NUMBER_OF_SLAVES - number of slaves (default: 0)
- DFS_REPLICATION - dfs replication in hdfs-site.xml (default: 1)
- YARN_MEMORY - yarn max memory in yarn-site.xml (default: 2650)

Build:

$ docker build -t deepsense/hadoop .

Run slave:

$ docker run --restart=always \
  -e ENV_PREFIX=ds-docker-env- -e IS_MASTER=0 \
  -p 8088:8088 -p 8020:8020 -p 8022:8022 -p 19888:19888 \
  -p 8030:8030 -p 8031:8031 -p 8032:8032 -p 8042:8042 \
  -p 50070:50070 -p 50075:50075 -p 50090:50090 -p 50105:50105 \
  -p 50030:50030 -p 50060:50060 -p 50010:50010 -p 50020:50020 -p 50100:50100 \
  -v /etc/hosts:/etc/hosts:ro -h ds-docker-env-slave1 -d deepsense/hadoop

Run master:

$ docker run --restart=always \
  -e ENV_PREFIX=ds-docker-env- -e NUMBER_OF_SLAVES=1 \
  -p 8088:8088 -p 8020:8020 -p 8022:8022 -p 19888:19888 \
  -p 8030:8030 -p 8031:8031 -p 8032:8032 -p 8042:8042 \
  -p 50070:50070 -p 50075:50075 -p 50090:50090 -p 50105:50105 \
  -p 50030:50030 -p 50060:50060 -p 50010:50010 -p 50020:50020 -p 50100:50100 \
  -v /etc/hosts:/etc/hosts:ro -h ds-docker-env-master -d deepsense/hadoop
